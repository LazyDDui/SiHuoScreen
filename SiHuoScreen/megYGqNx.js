import B from"./nsOGLec0.js";import{d as H,r as v,H as L,G as M,o as C,f as D,t,v as a,x as n,J as d,K as p,y,W as F,z as T,ab as z,U as E,_ as I}from"./B9ziC9Bb.js";import"./Zap6KhWk.js";import"./D1aBAe4a.js";const N={key:0,id:"autoScroll"},U={class:"header f-b"},W={class:"scrollBox"},V={key:1,id:"empty"},q=.5,G=H({__name:"AutoScroll",props:{type:{}},setup(h){const f=new Map([["序号","index"],["姓名","name"],["证件号码","idCard"],["有效期","certInvalidDate"],["资格证号","certNo"],["手机号","phone"]]),g=E(),c=v([]),m=v([]);switch(h.type){case"staff_deliver.cert_alarm":c.value=Array.from(f.keys()).slice(0,6),m.value=Array.from(f.values()).slice(0,6);break;default:c.value=[],m.value=[]}let s=0;const l=L({total:0,rows:[]}),k=M({current:1,size:10});let o;const e=v(null),i=()=>{o=requestAnimationFrame(i),z(()=>{e.value&&(s+=q,e.value.scrollHeight-e.value.offsetHeight<=s?s=0:e.value.scrollTop=s)})},w=async()=>{l.value.rows.length<l.value.total&&(k.current+=1,await getList(),g.proxy.$forceUpdate())};C(()=>{var u;i(),(u=e.value)==null||u.addEventListener("scroll",async x=>{s=e.value.scrollTop,e.value.scrollHeight-e.value.offsetHeight-10<=e.value.scrollTop&&await w()})});const b=()=>{o&&cancelAnimationFrame(o)};return D(()=>{o&&cancelAnimationFrame(o)}),(u,x)=>l.value.rows.length?(t(),a("div",N,[n("div",U,[(t(!0),a(d,null,p(c.value,r=>(t(),a("div",{key:r,class:"subtitle"},y(r),1))),128))]),n("div",W,[n("div",{ref_key:"scrollWrapper",ref:e,class:"scroll",onMouseover:b,onMouseleave:i},[n("div",null,[(t(!0),a(d,null,p(l.value.rows,(r,_)=>(t(),a("div",{key:_,class:"content f-b",style:F({backgroundColor:_%2==0?"rgba(10, 38, 57,.8)":"rgba(13, 47, 69,.3)"})},[(t(!0),a(d,null,p(r,(A,S)=>(t(),a("div",{key:S,class:"context"},y(A),1))),128))],4))),128))])],544)])])):(t(),a("div",V,[T(B)]))}}),O=I(G,[["__scopeId","data-v-c886784c"]]);export{O as default};
