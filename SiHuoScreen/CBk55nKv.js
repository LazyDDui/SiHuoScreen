import{s as me}from"./BsAJPsV6.js";import{E as pe,d as de,r as m,F as ve,o as fe,f as ye,j as _,G as ge,H as _e,t as r,v,x as s,I as e,z as a,J as T,K as k,A as p,T as he,L as c,y as Ce,M as Te,C as ke,D as be,_ as De}from"./B9ziC9Bb.js";import h from"./DSZGh0Ju.js";import Be from"./QJiK3cfk.js";import Se from"./CESLj5-F.js";import Ae from"./DoYKJNAx.js";import F from"./DCfZ33oH.js";import R from"./Bx6QHmyr.js";import we from"./BdFA5VA4.js";import Me from"./VHVAcuHd.js";import I from"./BqoS9RCL.js";import L from"./Cg08ef6k.js";import{A as N,S as xe,B as V}from"./sP8FAV9x.js";import{_ as J}from"./Bjq4G_88.js";import{_ as K}from"./CaneIisN.js";import{_ as Ee}from"./celM663O.js";import Ie from"./B5b3b6xh.js";import O from"./b6kq6UaW.js";import Y from"./C5rFZqmS.js";import Le from"./57i7TRg5.js";import Ne from"./By6Db50D.js";import{d as H,g as M,f as q,i as Oe,s as He,a as Q,m as Ge}from"./DlpHwSmd.js";import je from"./BPDm4ggd.js";import G from"./nsOGLec0.js";import{u as ze}from"./DnNtUWZM.js";import Ue from"./C8WNrWS7.js";import Pe from"./BboxjjD3.js";import We from"./tPAQWibD.js";import{g as i}from"./D1aBAe4a.js";import"./CnXlSkex.js";import"./fZXDZFiZ.js";/* empty css        *//* empty css        *//* empty css        */import"./IlnuAh9R.js";import"./4nIgyk6U.js";import"./BgEodl8T.js";import"./DOoZRm0q.js";import"./ve16npqZ.js";import"./C9ITDaDg.js";import"./D90g3B1P.js";import"./B1spNHc9.js";import"./Zap6KhWk.js";import"./D8_z__o0.js";import"./megYGqNx.js";function $e(f,b){const{title:D,titleTemplate:B,...u}=f;return ze({title:D,titleTemplate:B,_flatMeta:u},{...b,transform(C){const y=pe({...C._flatMeta});return delete C._flatMeta,{...C,meta:y}}})}const X=f=>(ke("data-v-931723a9"),f=f(),be(),f),Fe={class:"box"},Re={class:"header"},Ve=["src"],Je=X(()=>s("div",{class:"linear"},null,-1)),Ke=X(()=>s("div",{class:"title"},[s("i",null,"修仙可视化数据"),s("i",null,"智慧大屏")],-1)),Ye={class:"left"},qe={class:"f-b lb"},Qe={class:"right"},Xe={class:"f-a",style:{width:"100%"}},Ze={class:"f-a charts"},et={class:"f-a",style:{width:"100%"}},tt={class:"safeAlarm",style:{position:"relative"}},at={class:"f-a safe"},ot={key:0,class:"show"},nt={class:"f-b",style:{"align-items":"center"}},st={style:{display:"flex"}},rt={class:"select",style:{"align-items":"center",display:"flex"}},lt=de({__name:"index",setup(f){$e({title:"SIHUO",ogTitle:"大屏可视化",keywords:"666",description:"一个开源可视化模板"});let b;const D=[{desc:"今日",active:!0,type:"0"},{desc:"本周",active:!1,type:"1"},{desc:"本月",active:!1,type:"2"}],B=m(H(D)),u=m({alarmCount:100,breakCount:20,alarmByAlarmType:{},breakByAlarmType:{}}),C=[{url:"/chukuliang.png",desc:"a产量",count:20},{url:"/chukuliang.png",desc:"b产量",count:60},{url:"/fanhui.png",desc:"c产量",count:300},{url:"/fanhui.png",desc:"d产量",count:90}],y=m(""),S=m(C),[Z]=ve();fe(()=>{b=me(()=>{const n=S.value.shift();S.value.push(n)},2e3)}),ye(()=>{clearInterval(b)});const ee=_(()=>He(S.value.map(n=>n.count))),A=m({personCount:1300,xManCount:5}),w=m({carOnLine:10,carTotal:20,deliverOnLine:5,deliverTotal:20}),g=_(()=>u.value.alarmCount+u.value.breakCount),te=_(()=>g.value?u.value.alarmCount/g.value:0),ae=_(()=>g.value?u.value.breakCount/g.value:0),j=m(H(D)),x=m([{desc:"本周",active:!0},{desc:"本月",active:!1}]),z=(n,o)=>{o.forEach(t=>{t.active=t.desc===n})},oe=n=>{x.value.forEach(o=>{n==="本周"?(l.startDate=M().start,l.endDate=M().end):(l.startDate=Q().start,l.endDate=Q().end),o.desc===n?o.active=!0:o.active=!1})},l=ge({current:1,size:10,alarmType:"",startDate:M().start,endDate:M().end,customType:"",isHandle:!1}),U=()=>{x.value.forEach(n=>{n.active=!1})},ne=n=>{l.startDate=n,U()},se=n=>{l.endDate=n,U()},E=_e({total:0,rows:[],page:1}),P=async()=>{const n=H({...l,startDate:q(l.startDate,"yyyy-MM-dd"),endDate:q(l.endDate,"yyyy-MM-dd")});n.alarmType||delete n.alarmType,n.customType||delete n.customType;const o={rows:[{desc:"渡劫99层,修炼者渡数埋念过最后一次天劫，就能成就仙人位业，飞升仙界",isHandle:1,type:"四火"},{desc:"练气99层,修炼者可以分神,拥有更强大的功力",isHandle:0,type:"西门吹雪"},{desc:"筑基99层,修炼者开始凝结元婴",isHandle:0,type:"独孤求败"}],total:3};E.value={rows:o.rows.concat(E.value.rows),total:Number(o.total),page:l.current}},re=async()=>{++l.current,await P()},le=async n=>{z(n,B.value)},ue=async n=>{z(n,j.value)},ce=_(()=>A.value.personCount+A.value.xManCount),W=_(()=>Ge(u.value.breakByAlarmType,u.value.alarmByAlarmType)),ie=[{power:10,name:"练气",info:[{name:"炼气初期",count:2},{name:"炼气中期",count:3}]},{power:20,name:"筑基",info:[{name:"炼气后期",count:5}]},{power:30,name:"元婴",info:[{name:"炼虚合道",count:10}]},{power:100,name:"渡劫",info:[{name:"渡劫期",count:50},{name:"大乘期",count:100}]}];return(n,o)=>(r(),v("div",Fe,[s("div",Re,[s("img",{alt:"topBg",src:e(i)("/lpg/street/topbg.png"),class:"topBg"},null,8,Ve),Je,Ke,a(e(Ne)),a(e(Me))]),s("div",Ye,[a(e(h),{desc:"监管"}),a(e(Be),{count:ee.value},null,8,["count"]),s("div",{ref_key:"autoAnimate",ref:Z,class:"f-a",style:{width:"80%",margin:"0 auto"}},[(r(!0),v(T,null,k(S.value.slice(0,3),t=>(r(),c(e(Se),{key:t.desc,count:t.count,url:t.url,desc:t.desc},null,8,["count","url","desc"]))),128))],512),a(e(Ae)),a(e(h),{desc:"人员和车辆管理"}),a(e(F),{count:w.value.deliverOnLine,total:w.value.deliverTotal,desc:"在线汽车",title:"车辆",url:e(i)("/lpg/street/car.png"),"no-url":e(i)("/lpg/street/carNo.png"),"small-url":e(i)("/lpg/street/littleCar.png")},null,8,["count","total","url","no-url","small-url"]),a(e(F),{count:w.value.carOnLine,total:w.value.carTotal,desc:"在线人员",title:"人员",url:e(i)("/lpg/street/person.png"),"no-url":e(i)("/lpg/street/personNo.png"),"small-url":e(i)("/lpg/street/smallPerson.png")},null,8,["count","total","url","no-url","small-url"]),a(e(h),{desc:"客户管理"}),s("div",qe,[a(e(R),{count:Number(A.value.personCount),url:e(i)("/lpg/street/jumin.png"),desc:"麻瓜"},null,8,["count","url"]),a(e(we),{count:ce.value},null,8,["count"]),a(e(R),{count:Number(A.value.xManCount),url:e(i)("/lpg/street/feijumin.png"),desc:"变种人"},{default:p(()=>[a(e(Pe))]),_:1},8,["count","url"])])]),s("div",Qe,[a(e(h),{desc:"变异量"}),s("div",Xe,[(r(!0),v(T,null,k(B.value,t=>(r(),c(e(I),{key:t.desc,desc:t.desc,active:t.active,onChange:o[0]||(o[0]=d=>le(d))},null,8,["desc","active"]))),128))]),s("div",Ze,[a(e(O),{desc:"变异总量"},{body:p(()=>[e(Oe)(W.value)?(r(),c(e(G),{key:0})):(r(),c(e(Y),{key:1,title:"变异重量",map:W.value},null,8,["map"]))]),default:p(()=>[a(e(L),{percent:g.value==0?0:1,count:g.value,desc:"阻断.预警",type:e(N).BLUE},null,8,["percent","count","type"])]),_:1}),a(e(O),{desc:"进化"},{body:p(()=>[u.value.breakByAlarmType?(r(),c(e(G),{key:0})):(r(),c(e(Le),{key:1,map:u.value.breakByAlarmType},null,8,["map"]))]),default:p(()=>[a(e(L),{percent:ae.value,count:u.value.breakCount,desc:"超进化",type:e(N).GREEN},null,8,["percent","count","type"])]),_:1}),a(e(O),{desc:"变异"},{body:p(()=>[u.value.alarmByAlarmType?(r(),c(e(G),{key:0})):(r(),c(e(Y),{key:1,title:"预警",map:u.value.alarmByAlarmType},null,8,["map"]))]),default:p(()=>[a(e(L),{percent:te.value,count:u.value.alarmCount,desc:"变异",type:e(N).YELLOW},null,8,["percent","count","type"])]),_:1})]),a(e(h),{desc:"进化过程"}),s("div",et,[(r(!0),v(T,null,k(j.value,t=>(r(),c(e(I),{key:t.desc,desc:t.desc,active:t.active,onChange:o[1]||(o[1]=d=>ue(d))},null,8,["desc","active"]))),128))]),s("div",tt,[s("div",at,[(r(),v(T,null,k(ie,(t,d)=>a(e(We),{key:t,"no-right":d===3,sort:t.power,desc:t.name,info:t.info,onOnHover:o[2]||(o[2]=$=>y.value=$),onOnLeave:o[3]||(o[3]=$=>y.value="")},null,8,["no-right","sort","desc","info"])),64))]),a(he,null,{default:p(()=>[y.value?(r(),v("div",ot,Ce(y.value)+"次",1)):Te("",!0)]),_:1})]),a(e(h),{desc:"侠客搜索榜单"}),s("div",nt,[s("div",st,[(r(!0),v(T,null,k(x.value,t=>(r(),c(e(I),{key:t,active:t.active,desc:t.desc,size:e(xe).small,onChange:o[4]||(o[4]=d=>oe(d))},null,8,["active","desc","size"]))),128))]),a(e(J),{"time-stamp":l.startDate,onConfirm:o[5]||(o[5]=t=>ne(t))},null,8,["time-stamp"]),a(e(J),{"time-stamp":l.endDate,onConfirm:o[6]||(o[6]=t=>se(t))},null,8,["time-stamp"])]),s("div",rt,[a(e(K),{type:e(V).usr,onChange:o[7]||(o[7]=t=>l.customType=t)},null,8,["type"]),a(e(K),{type:e(V).event,onChange:o[8]||(o[8]=t=>l.alarmType=t)},null,8,["type"])]),a(e(Ee),{onChange:o[9]||(o[9]=t=>l.alarmType=t),onSearch:P}),a(e(je),{data:E.value,onMore:re},null,8,["data"])]),a(e(Ue)),a(e(Ie))]))}}),Zt=De(lt,[["__scopeId","data-v-931723a9"]]);export{Zt as default};
