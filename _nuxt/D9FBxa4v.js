import{E as de,d as te,r as p,o as ae,F as fe,v as f,G as ve,H as ye,f as ge,j as b,I as _e,J as he,t as r,x as s,z as t,K as e,L as k,M as D,A as m,T as Te,N as i,y as be,O as Ce,C as ke,D as De,_ as Se}from"./CK3y9QcQ.js";import{s as Ae}from"./B6klr7dJ.js";import C from"./n-VjF58n.js";import Be from"./DJsJbM14.js";import we from"./BaAasSmD.js";import Me from"./DGougU2a.js";import J from"./_rR1RmUC.js";import K from"./BUgSzef6.js";import xe from"./KLmHDb_1.js";import Ee from"./Cdl935jp.js";import N from"./DIErOIAK.js";import I from"./DyfUdCo9.js";import{A as H,S as Le,B as Y}from"./sP8FAV9x.js";import{_ as q}from"./B3vLQrIQ.js";import{_ as Q}from"./DxrW9iPM.js";import{_ as Oe}from"./B7F2JsTC.js";import Ne from"./C5nFOM3U.js";import G from"./BIQsvY5a.js";import X from"./BubtJPkv.js";import Ie from"./CIHuTg5G.js";import He from"./Df2Rs5oP.js";import{d as j,g as x,f as Z,i as Ge,s as je,a as ee,m as ze}from"./DlpHwSmd.js";import Ue from"./COEs9xA4.js";import z from"./B7s5uu5S.js";import{u as Re}from"./6E9SneE3.js";import We from"./DYl2w8Gh.js";import $e from"./BYZwfSvg.js";import Fe from"./BsBIJJtk.js";import"./CnXlSkex.js";import"./DZcv6E4L.js";/* empty css        *//* empty css        *//* empty css        */import"./D85zZ7X0.js";import"./DSBzR4_s.js";import"./Bza_HkpL.js";import"./DBwHT3ke.js";import"./ve16npqZ.js";import"./B1KmDCKR.js";import"./BkdGHHu2.js";import"./DP_vPy4c.js";import"./C1FxVjS7.js";function Pe(v,c){const{title:h,titleTemplate:y,...l}=v;return Re({title:h,titleTemplate:y,_flatMeta:l},{...c,transform(g){const d=de({...g._flatMeta});return delete g._flatMeta,{...g,meta:d}}})}const Ve=Symbol.for("nuxt:client-only"),Je=te({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(v,{slots:c,attrs:h}){const y=p(!1);return ae(()=>{y.value=!0}),fe(Ve,!0),l=>{var S;if(y.value)return(S=c.default)==null?void 0:S.call(c);const g=c.fallback||c.placeholder;if(g)return g();const d=l.fallback||l.placeholder||"",E=l.fallbackTag||l.placeholderTag||"span";return f(E,h,d)}}}),Ke=ve("/lpg/street/topbg.png"),U=v=>(ke("data-v-e9df0bd1"),v=v(),De(),v),Ye={class:"box"},qe={class:"header"},Qe=U(()=>s("img",{alt:"topBg",src:Ke,class:"topBg"},null,-1)),Xe=U(()=>s("div",{class:"linear"},null,-1)),Ze=U(()=>s("div",{class:"title"},[s("i",null,"修仙可视化数据"),s("i",null,"智慧大屏")],-1)),et={class:"left"},tt={class:"f-b lb"},at={class:"right"},ot={class:"f-a",style:{width:"100%"}},nt={class:"f-a charts"},lt={class:"f-a",style:{width:"100%"}},st={class:"safeAlarm",style:{position:"relative"}},rt={class:"f-a safe"},ut={key:0,class:"show"},ct={class:"f-b",style:{"align-items":"center"}},it={style:{display:"flex"}},mt={class:"select",style:{"align-items":"center",display:"flex"}},pt=te({__name:"index",setup(v){Pe({title:"大屏可视化",ogTitle:"大屏可视化",keywords:"666",description:"一个开源可视化模板"});let c;const h=[{desc:"今日",active:!0,type:"0"},{desc:"本周",active:!1,type:"1"},{desc:"本月",active:!1,type:"2"}],y=p(j(h)),l=p({alarmCount:100,breakCount:20,alarmByAlarmType:{},breakByAlarmType:{}}),d=p([{url:"/chukuliang.png",desc:"a产量",count:20},{url:"/chukuliang.png",desc:"b产量",count:60},{url:"/fanhui.png",desc:"c产量",count:300},{url:"/fanhui.png",desc:"d产量",count:90}]),[E]=ye();ae(()=>{c=Ae(()=>{const n=d.value.shift();d.value.push(n)},2e3)}),ge(()=>{clearInterval(c)});const S=b(()=>je(d.value.map(n=>n.count))),A=p({personCount:1300,xManCount:5}),B=p({carOnLine:10,carTotal:20,deliverOnLine:5,deliverTotal:20}),T=b(()=>l.value.alarmCount+l.value.breakCount),oe=b(()=>T.value?l.value.alarmCount/T.value:0),ne=b(()=>T.value?l.value.breakCount/T.value:0),R=p(j(h)),L=p([{desc:"本周",active:!0},{desc:"本月",active:!1}]),W=(n,o)=>{o.forEach(M=>{M.active=M.desc===n})},le=n=>{L.value.forEach(o=>{n==="本周"?(u.startDate=x().start,u.endDate=x().end):(u.startDate=ee().start,u.endDate=ee().end),o.desc===n?o.active=!0:o.active=!1})},u=_e({current:1,size:10,alarmType:"",startDate:x().start,endDate:x().end,customType:"",isHandle:!1}),$=()=>{L.value.forEach(n=>{n.active=!1})},se=n=>{u.startDate=n,$()},re=n=>{u.endDate=n,$()},O=he({total:0,rows:[],page:1}),F=async()=>{const n=j({...u,startDate:Z(u.startDate,"yyyy-MM-dd"),endDate:Z(u.endDate,"yyyy-MM-dd")});n.alarmType||delete n.alarmType,n.customType||delete n.customType;const o={rows:[{desc:"渡劫99层,修炼者渡数埋念过最后一次天劫，就能成就仙人位业，飞升仙界",isHandle:1,type:"四火"},{desc:"练气99层,修炼者可以分神,拥有更强大的功力",isHandle:0,type:"西门吹雪"},{desc:"筑基99层,修炼者开始凝结元婴",isHandle:0,type:"独孤求败"}],total:3};O.value={rows:o.rows.concat(O.value.rows),total:Number(o.total),page:u.current}},ue=async()=>{++u.current,await F()},ce=async n=>{W(n,y.value)},ie=async n=>{W(n,R.value)},me=b(()=>A.value.personCount+A.value.xManCount),P=b(()=>ze(l.value.breakByAlarmType,l.value.alarmByAlarmType)),pe=[{power:10,name:"练气",info:[{name:"炼气初期",count:2},{name:"炼气中期",count:3}]},{power:20,name:"筑基",info:[{name:"炼气后期",count:5}]},{power:30,name:"元婴",info:[{name:"炼虚合道",count:10}]},{power:100,name:"渡劫",info:[{name:"渡劫期",count:50},{name:"大乘期",count:100}]}],w=p("");return(n,o)=>{const M=Je;return r(),f("div",Ye,[s("div",qe,[Qe,Xe,Ze,t(e(He)),t(e(Ee))]),s("div",et,[t(e(C),{desc:"监管"}),t(e(Be),{count:S.value},null,8,["count"]),s("div",{ref_key:"autoAnimate",ref:E,class:"f-a",style:{width:"80%",margin:"0 auto"}},[(r(!0),f(k,null,D(d.value.slice(0,3),a=>(r(),i(e(we),{key:a.desc,count:a.count,url:a.url,desc:a.desc},null,8,["count","url","desc"]))),128))],512),t(e(Me)),t(e(C),{desc:"人员和车辆管理"}),t(e(J),{count:B.value.deliverOnLine,total:B.value.deliverTotal,desc:"在线汽车",title:"车辆",url:"/lpg/street/car.png","no-url":"/lpg/street/carNo.png","small-url":"/lpg/street/littleCar.png"},null,8,["count","total"]),t(e(J),{count:B.value.carOnLine,total:B.value.carTotal,desc:"在线人员",title:"人员",url:"/lpg/street/person.png","no-url":"/lpg/street/personNo.png","small-url":"/lpg/street/smallPerson.png"},null,8,["count","total"]),t(e(C),{desc:"客户管理"}),s("div",tt,[t(e(K),{count:Number(A.value.personCount),url:"/lpg/street/jumin.png",desc:"麻瓜"},null,8,["count"]),t(e(xe),{count:me.value},null,8,["count"]),t(e(K),{count:Number(A.value.xManCount),url:"/lpg/street/feijumin.png",desc:"变种人"},{default:m(()=>[t(e($e))]),_:1},8,["count"])])]),s("div",at,[t(e(C),{desc:"变异量"}),s("div",ot,[(r(!0),f(k,null,D(y.value,a=>(r(),i(e(N),{key:a.desc,desc:a.desc,active:a.active,onChange:o[0]||(o[0]=_=>ce(_))},null,8,["desc","active"]))),128))]),s("div",nt,[t(e(G),{desc:"变异总量"},{body:m(()=>[e(Ge)(P.value)?(r(),i(e(z),{key:0})):(r(),i(e(X),{key:1,title:"变异重量",map:P.value},null,8,["map"]))]),default:m(()=>[t(e(I),{percent:T.value==0?0:1,count:T.value,desc:"阻断.预警",type:e(H).BLUE},null,8,["percent","count","type"])]),_:1}),t(e(G),{desc:"进化"},{body:m(()=>[l.value.breakByAlarmType?(r(),i(e(z),{key:0})):(r(),i(e(Ie),{key:1,map:l.value.breakByAlarmType},null,8,["map"]))]),default:m(()=>[t(e(I),{percent:ne.value,count:l.value.breakCount,desc:"超进化",type:e(H).GREEN},null,8,["percent","count","type"])]),_:1}),t(e(G),{desc:"变异"},{body:m(()=>[l.value.alarmByAlarmType?(r(),i(e(z),{key:0})):(r(),i(e(X),{key:1,title:"预警",map:l.value.alarmByAlarmType},null,8,["map"]))]),default:m(()=>[t(e(I),{percent:oe.value,count:l.value.alarmCount,desc:"变异",type:e(H).YELLOW},null,8,["percent","count","type"])]),_:1})]),t(e(C),{desc:"进化过程"}),s("div",lt,[(r(!0),f(k,null,D(R.value,a=>(r(),i(e(N),{key:a.desc,desc:a.desc,active:a.active,onChange:o[1]||(o[1]=_=>ie(_))},null,8,["desc","active"]))),128))]),s("div",st,[s("div",rt,[(r(),f(k,null,D(pe,(a,_)=>t(e(Fe),{key:a,"no-right":_===3,sort:a.power,desc:a.name,info:a.info,onOnHover:o[2]||(o[2]=V=>w.value=V),onOnLeave:o[3]||(o[3]=V=>w.value="")},null,8,["no-right","sort","desc","info"])),64))]),t(Te,null,{default:m(()=>[w.value?(r(),f("div",ut,be(w.value)+"次",1)):Ce("",!0)]),_:1})]),t(e(C),{desc:"侠客搜索榜单"}),s("div",ct,[s("div",it,[(r(!0),f(k,null,D(L.value,a=>(r(),i(e(N),{key:a,active:a.active,desc:a.desc,size:e(Le).small,onChange:o[4]||(o[4]=_=>le(_))},null,8,["active","desc","size"]))),128))]),t(e(q),{"time-stamp":u.startDate,onConfirm:o[5]||(o[5]=a=>se(a))},null,8,["time-stamp"]),t(e(q),{"time-stamp":u.endDate,onConfirm:o[6]||(o[6]=a=>re(a))},null,8,["time-stamp"])]),s("div",mt,[t(e(Q),{type:e(Y).usr,onChange:o[7]||(o[7]=a=>u.customType=a)},null,8,["type"]),t(e(Q),{type:e(Y).event,onChange:o[8]||(o[8]=a=>u.alarmType=a)},null,8,["type"])]),t(e(Oe),{onChange:o[9]||(o[9]=a=>u.alarmType=a),onSearch:F}),t(e(Ue),{data:O.value,onMore:ue},null,8,["data"])]),t(M,null,{default:m(()=>[t(e(We))]),_:1}),t(e(Ne))])}}}),ta=Se(pt,[["__scopeId","data-v-e9df0bd1"]]);export{ta as default};
