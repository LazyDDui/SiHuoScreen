import{E as fe,d as te,r as d,o as ae,F as ve,v,G as ye,f as ge,j as k,H as _e,I as he,t as s,x as r,J as e,z as t,K as S,L as D,A as m,T as Te,M as i,y as Ce,N as ke,C as be,D as Se,_ as De}from"./DWOVWBUe.js";import{s as Be}from"./C-x1rGFr.js";import b from"./BQMjWdDB.js";import Ae from"./Dm2p0TMs.js";import we from"./CH7fFfD4.js";import Me from"./zPaIpG5z.js";import J from"./CqcowV5o.js";import K from"./CL63i3d7.js";import xe from"./BU4hIDg8.js";import Ee from"./BfBmqhiO.js";import I from"./DNY-434A.js";import H from"./Rixxm5sX.js";import{A as G,S as Le,B as Y}from"./sP8FAV9x.js";import{_ as q}from"./BVrxCf1X.js";import{_ as Q}from"./pKpPsGqP.js";import{_ as Ne}from"./DyNN3mPQ.js";import Oe from"./rYqUbMm4.js";import j from"./B09jlbgI.js";import X from"./B2Ga5oh1.js";import Ie from"./B0qH-j3H.js";import He from"./B-7atAof.js";import{d as z,g as E,f as Z,i as Ge,s as je,a as ee,m as ze}from"./DlpHwSmd.js";import Pe from"./C5QorCXg.js";import P from"./frwn4S2k.js";import{u as Ue}from"./DP_ABIUm.js";import We from"./9_bT0Typ.js";import $e from"./C5uVCIZ_.js";import Fe from"./CSGRI_ul.js";import{g as p}from"./Wn3bvree.js";import"./CnXlSkex.js";import"./BmDh6puz.js";/* empty css        *//* empty css        *//* empty css        */import"./91dUVwNm.js";import"./MDHhHZKs.js";import"./BenqYNVR.js";import"./D98n_RBq.js";import"./ve16npqZ.js";import"./DgL9TM_t.js";import"./ChEQmL9v.js";import"./oGbaE-eK.js";import"./DI21vonJ.js";function Re(y,c){const{title:T,titleTemplate:g,...l}=y;return Ue({title:T,titleTemplate:g,_flatMeta:l},{...c,transform(_){const f=fe({..._._flatMeta});return delete _._flatMeta,{..._,meta:f}}})}const Ve=Symbol.for("nuxt:client-only"),Je=te({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(y,{slots:c,attrs:T}){const g=d(!1);return ae(()=>{g.value=!0}),ve(Ve,!0),l=>{var B;if(g.value)return(B=c.default)==null?void 0:B.call(c);const _=c.fallback||c.placeholder;if(_)return _();const f=l.fallback||l.placeholder||"",L=l.fallbackTag||l.placeholderTag||"span";return v(L,T,f)}}}),oe=y=>(be("data-v-044a9ce5"),y=y(),Se(),y),Ke={class:"box"},Ye={class:"header"},qe=["src"],Qe=oe(()=>r("div",{class:"linear"},null,-1)),Xe=oe(()=>r("div",{class:"title"},[r("i",null,"修仙可视化数据"),r("i",null,"智慧大屏")],-1)),Ze={class:"left"},et={class:"f-b lb"},tt={class:"right"},at={class:"f-a",style:{width:"100%"}},ot={class:"f-a charts"},nt={class:"f-a",style:{width:"100%"}},lt={class:"safeAlarm",style:{position:"relative"}},rt={class:"f-a safe"},st={key:0,class:"show"},ut={class:"f-b",style:{"align-items":"center"}},ct={style:{display:"flex"}},it={class:"select",style:{"align-items":"center",display:"flex"}},mt=te({__name:"index",setup(y){Re({title:"大屏可视化",ogTitle:"大屏可视化",keywords:"666",description:"一个开源可视化模板"});let c;const T=[{desc:"今日",active:!0,type:"0"},{desc:"本周",active:!1,type:"1"},{desc:"本月",active:!1,type:"2"}],g=d(z(T)),l=d({alarmCount:100,breakCount:20,alarmByAlarmType:{},breakByAlarmType:{}}),f=d([{url:"/chukuliang.png",desc:"a产量",count:20},{url:"/chukuliang.png",desc:"b产量",count:60},{url:"/fanhui.png",desc:"c产量",count:300},{url:"/fanhui.png",desc:"d产量",count:90}]),[L]=ye();ae(()=>{c=Be(()=>{const n=f.value.shift();f.value.push(n)},2e3)}),ge(()=>{clearInterval(c)});const B=k(()=>je(f.value.map(n=>n.count))),A=d({personCount:1300,xManCount:5}),w=d({carOnLine:10,carTotal:20,deliverOnLine:5,deliverTotal:20}),C=k(()=>l.value.alarmCount+l.value.breakCount),ne=k(()=>C.value?l.value.alarmCount/C.value:0),le=k(()=>C.value?l.value.breakCount/C.value:0),U=d(z(T)),N=d([{desc:"本周",active:!0},{desc:"本月",active:!1}]),W=(n,o)=>{o.forEach(x=>{x.active=x.desc===n})},re=n=>{N.value.forEach(o=>{n==="本周"?(u.startDate=E().start,u.endDate=E().end):(u.startDate=ee().start,u.endDate=ee().end),o.desc===n?o.active=!0:o.active=!1})},u=_e({current:1,size:10,alarmType:"",startDate:E().start,endDate:E().end,customType:"",isHandle:!1}),$=()=>{N.value.forEach(n=>{n.active=!1})},se=n=>{u.startDate=n,$()},ue=n=>{u.endDate=n,$()},O=he({total:0,rows:[],page:1}),F=async()=>{const n=z({...u,startDate:Z(u.startDate,"yyyy-MM-dd"),endDate:Z(u.endDate,"yyyy-MM-dd")});n.alarmType||delete n.alarmType,n.customType||delete n.customType;const o={rows:[{desc:"渡劫99层,修炼者渡数埋念过最后一次天劫，就能成就仙人位业，飞升仙界",isHandle:1,type:"四火"},{desc:"练气99层,修炼者可以分神,拥有更强大的功力",isHandle:0,type:"西门吹雪"},{desc:"筑基99层,修炼者开始凝结元婴",isHandle:0,type:"独孤求败"}],total:3};O.value={rows:o.rows.concat(O.value.rows),total:Number(o.total),page:u.current}},ce=async()=>{++u.current,await F()},ie=async n=>{W(n,g.value)},me=async n=>{W(n,U.value)},pe=k(()=>A.value.personCount+A.value.xManCount),R=k(()=>ze(l.value.breakByAlarmType,l.value.alarmByAlarmType)),de=[{power:10,name:"练气",info:[{name:"炼气初期",count:2},{name:"炼气中期",count:3}]},{power:20,name:"筑基",info:[{name:"炼气后期",count:5}]},{power:30,name:"元婴",info:[{name:"炼虚合道",count:10}]},{power:100,name:"渡劫",info:[{name:"渡劫期",count:50},{name:"大乘期",count:100}]}],M=d("");return(n,o)=>{const x=Je;return s(),v("div",Ke,[r("div",Ye,[r("img",{alt:"topBg",src:e(p)("/lpg/street/topbg.png"),class:"topBg"},null,8,qe),Qe,Xe,t(e(He)),t(e(Ee))]),r("div",Ze,[t(e(b),{desc:"监管"}),t(e(Ae),{count:B.value},null,8,["count"]),r("div",{ref_key:"autoAnimate",ref:L,class:"f-a",style:{width:"80%",margin:"0 auto"}},[(s(!0),v(S,null,D(f.value.slice(0,3),a=>(s(),i(e(we),{key:a.desc,count:a.count,url:a.url,desc:a.desc},null,8,["count","url","desc"]))),128))],512),t(e(Me)),t(e(b),{desc:"人员和车辆管理"}),t(e(J),{count:w.value.deliverOnLine,total:w.value.deliverTotal,desc:"在线汽车",title:"车辆",url:e(p)("/lpg/street/car.png"),"no-url":e(p)("/lpg/street/carNo.png"),"small-url":e(p)("/lpg/street/littleCar.png")},null,8,["count","total","url","no-url","small-url"]),t(e(J),{count:w.value.carOnLine,total:w.value.carTotal,desc:"在线人员",title:"人员",url:e(p)("/lpg/street/person.png"),"no-url":e(p)("/lpg/street/personNo.png"),"small-url":e(p)("/lpg/street/smallPerson.png")},null,8,["count","total","url","no-url","small-url"]),t(e(b),{desc:"客户管理"}),r("div",et,[t(e(K),{count:Number(A.value.personCount),url:e(p)("/lpg/street/jumin.png"),desc:"麻瓜"},null,8,["count","url"]),t(e(xe),{count:pe.value},null,8,["count"]),t(e(K),{count:Number(A.value.xManCount),url:e(p)("/lpg/street/feijumin.png"),desc:"变种人"},{default:m(()=>[t(e($e))]),_:1},8,["count","url"])])]),r("div",tt,[t(e(b),{desc:"变异量"}),r("div",at,[(s(!0),v(S,null,D(g.value,a=>(s(),i(e(I),{key:a.desc,desc:a.desc,active:a.active,onChange:o[0]||(o[0]=h=>ie(h))},null,8,["desc","active"]))),128))]),r("div",ot,[t(e(j),{desc:"变异总量"},{body:m(()=>[e(Ge)(R.value)?(s(),i(e(P),{key:0})):(s(),i(e(X),{key:1,title:"变异重量",map:R.value},null,8,["map"]))]),default:m(()=>[t(e(H),{percent:C.value==0?0:1,count:C.value,desc:"阻断.预警",type:e(G).BLUE},null,8,["percent","count","type"])]),_:1}),t(e(j),{desc:"进化"},{body:m(()=>[l.value.breakByAlarmType?(s(),i(e(P),{key:0})):(s(),i(e(Ie),{key:1,map:l.value.breakByAlarmType},null,8,["map"]))]),default:m(()=>[t(e(H),{percent:le.value,count:l.value.breakCount,desc:"超进化",type:e(G).GREEN},null,8,["percent","count","type"])]),_:1}),t(e(j),{desc:"变异"},{body:m(()=>[l.value.alarmByAlarmType?(s(),i(e(P),{key:0})):(s(),i(e(X),{key:1,title:"预警",map:l.value.alarmByAlarmType},null,8,["map"]))]),default:m(()=>[t(e(H),{percent:ne.value,count:l.value.alarmCount,desc:"变异",type:e(G).YELLOW},null,8,["percent","count","type"])]),_:1})]),t(e(b),{desc:"进化过程"}),r("div",nt,[(s(!0),v(S,null,D(U.value,a=>(s(),i(e(I),{key:a.desc,desc:a.desc,active:a.active,onChange:o[1]||(o[1]=h=>me(h))},null,8,["desc","active"]))),128))]),r("div",lt,[r("div",rt,[(s(),v(S,null,D(de,(a,h)=>t(e(Fe),{key:a,"no-right":h===3,sort:a.power,desc:a.name,info:a.info,onOnHover:o[2]||(o[2]=V=>M.value=V),onOnLeave:o[3]||(o[3]=V=>M.value="")},null,8,["no-right","sort","desc","info"])),64))]),t(Te,null,{default:m(()=>[M.value?(s(),v("div",st,Ce(M.value)+"次",1)):ke("",!0)]),_:1})]),t(e(b),{desc:"侠客搜索榜单"}),r("div",ut,[r("div",ct,[(s(!0),v(S,null,D(N.value,a=>(s(),i(e(I),{key:a,active:a.active,desc:a.desc,size:e(Le).small,onChange:o[4]||(o[4]=h=>re(h))},null,8,["active","desc","size"]))),128))]),t(e(q),{"time-stamp":u.startDate,onConfirm:o[5]||(o[5]=a=>se(a))},null,8,["time-stamp"]),t(e(q),{"time-stamp":u.endDate,onConfirm:o[6]||(o[6]=a=>ue(a))},null,8,["time-stamp"])]),r("div",it,[t(e(Q),{type:e(Y).usr,onChange:o[7]||(o[7]=a=>u.customType=a)},null,8,["type"]),t(e(Q),{type:e(Y).event,onChange:o[8]||(o[8]=a=>u.alarmType=a)},null,8,["type"])]),t(e(Ne),{onChange:o[9]||(o[9]=a=>u.alarmType=a),onSearch:F}),t(e(Pe),{data:O.value,onMore:ce},null,8,["data"])]),t(x,null,{default:m(()=>[t(e(We))]),_:1}),t(e(Oe))])}}}),ta=De(mt,[["__scopeId","data-v-044a9ce5"]]);export{ta as default};
