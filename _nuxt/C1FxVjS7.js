import M from"./B7s5uu5S.js";import{d as S,r as v,J as B,I as C,o as D,f as F,t,v as a,x as n,L as d,M as p,y,Y as H,z as I,ac as T,W as z,_ as E}from"./CK3y9QcQ.js";const N={key:0,id:"autoScroll"},W={class:"header f-b"},U={class:"scrollBox"},V={key:1,id:"empty"},q=.5,J=S({__name:"AutoScroll",props:{type:{}},setup(h){const f=new Map([["序号","index"],["姓名","name"],["证件号码","idCard"],["有效期","certInvalidDate"],["资格证号","certNo"],["手机号","phone"]]),g=z(),c=v([]),m=v([]);switch(h.type){case"staff_deliver.cert_alarm":c.value=Array.from(f.keys()).slice(0,6),m.value=Array.from(f.values()).slice(0,6);break;default:c.value=[],m.value=[]}let s=0;const l=B({total:0,rows:[]}),k=C({current:1,size:10});let o;const e=v(null),i=()=>{o=requestAnimationFrame(i),T(()=>{e.value&&(s+=q,e.value.scrollHeight-e.value.offsetHeight<=s?s=0:e.value.scrollTop=s)})},w=async()=>{l.value.rows.length<l.value.total&&(k.current+=1,await getList(),g.proxy.$forceUpdate())};D(()=>{var u;i(),(u=e.value)==null||u.addEventListener("scroll",async b=>{s=e.value.scrollTop,e.value.scrollHeight-e.value.offsetHeight-10<=e.value.scrollTop&&await w()})});const x=()=>{o&&cancelAnimationFrame(o)};return F(()=>{o&&cancelAnimationFrame(o)}),(u,b)=>l.value.rows.length?(t(),a("div",N,[n("div",W,[(t(!0),a(d,null,p(c.value,r=>(t(),a("div",{key:r,class:"subtitle"},y(r),1))),128))]),n("div",U,[n("div",{ref_key:"scrollWrapper",ref:e,class:"scroll",onMouseover:x,onMouseleave:i},[n("div",null,[(t(!0),a(d,null,p(l.value.rows,(r,_)=>(t(),a("div",{key:_,class:"content f-b",style:H({backgroundColor:_%2==0?"rgba(10, 38, 57,.8)":"rgba(13, 47, 69,.3)"})},[(t(!0),a(d,null,p(r,(A,L)=>(t(),a("div",{key:L,class:"context"},y(A),1))),128))],4))),128))])],544)])])):(t(),a("div",V,[I(M)]))}}),j=E(J,[["__scopeId","data-v-c886784c"]]);export{j as default};
