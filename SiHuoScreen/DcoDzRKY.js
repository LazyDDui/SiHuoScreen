import S from"./DtIEW6AY.js";import{d as B,r as v,H,G as M,o as C,f as D,t,v as a,x as n,J as d,K as p,y,L as F,z as T,ab as z,V as E,_ as I}from"./C3huOn_u.js";import"./1_Ojsesg.js";import"./CfO8n58R.js";const N={key:0,id:"autoScroll"},V={class:"header f-b"},U={class:"scrollBox"},W={key:1,id:"empty"},q=.5,G=B({__name:"AutoScroll",props:{type:{}},setup(h){const f=new Map([["序号","index"],["姓名","name"],["证件号码","idCard"],["有效期","certInvalidDate"],["资格证号","certNo"],["手机号","phone"]]),g=E(),c=v([]),m=v([]);switch(h.type){case"staff_deliver.cert_alarm":c.value=Array.from(f.keys()).slice(0,6),m.value=Array.from(f.values()).slice(0,6);break;default:c.value=[],m.value=[]}let s=0;const l=H({total:0,rows:[]}),k=M({current:1,size:10});let o;const e=v(null),i=()=>{o=requestAnimationFrame(i),z(()=>{e.value&&(s+=q,e.value.scrollHeight-e.value.offsetHeight<=s?s=0:e.value.scrollTop=s)})},w=async()=>{l.value.rows.length<l.value.total&&(k.current+=1,await getList(),g.proxy.$forceUpdate())};C(()=>{var u;i(),(u=e.value)==null||u.addEventListener("scroll",async x=>{s=e.value.scrollTop,e.value.scrollHeight-e.value.offsetHeight-10<=e.value.scrollTop&&await w()})});const b=()=>{o&&cancelAnimationFrame(o)};return D(()=>{o&&cancelAnimationFrame(o)}),(u,x)=>l.value.rows.length?(t(),a("div",N,[n("div",V,[(t(!0),a(d,null,p(c.value,r=>(t(),a("div",{key:r,class:"subtitle"},y(r),1))),128))]),n("div",U,[n("div",{ref_key:"scrollWrapper",ref:e,class:"scroll",onMouseover:b,onMouseleave:i},[n("div",null,[(t(!0),a(d,null,p(l.value.rows,(r,_)=>(t(),a("div",{key:_,class:"content f-b",style:F({backgroundColor:_%2==0?"rgba(10, 38, 57,.8)":"rgba(13, 47, 69,.3)"})},[(t(!0),a(d,null,p(r,(A,L)=>(t(),a("div",{key:L,class:"context"},y(A),1))),128))],4))),128))])],544)])])):(t(),a("div",W,[T(S)]))}}),O=I(G,[["__scopeId","data-v-c886784c"]]);export{O as default};
