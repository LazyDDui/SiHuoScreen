import{s as pe}from"./UxGtFklj.js";import{E as de,d as ve,r as m,F as fe,o as ye,f as ge,j as h,G as he,H as _e,t as l,v,x as s,I as e,z as a,J as T,K as b,A as p,L as F,T as Ce,M as i,y as Te,N as be,C as ke,D as Be,_ as De}from"./CceoEHZV.js";import _ from"./3_Z4QvQQ.js";import Se from"./CZO4KQRy.js";import Ae from"./CCoG2TTu.js";import we from"./BoZLfKiG.js";import R from"./BkOk-aQ2.js";import V from"./2EwVMdOW.js";import Me from"./DCsc39EI.js";import xe from"./Dgzpd6Lq.js";import I from"./B9WTOiXV.js";import L from"./C3INmtMo.js";import{A as N,S as Ee,B as J}from"./sP8FAV9x.js";import{_ as K}from"./oN2rjVR-.js";import{_ as Y}from"./B0FJuELr.js";import{_ as Ie}from"./PlOpnDqW.js";import Le from"./pJ0wz2Pr.js";import O from"./Dl6PiVSq.js";import q from"./uNNUMVT0.js";import Ne from"./CMYWneii.js";import Oe from"./2bf-XnAx.js";import{d as H,g as M,f as Q,i as He,s as ze,a as X,m as Ge}from"./DlpHwSmd.js";import $e from"./CRBpfknF.js";import z from"./5l36gbgu.js";import{u as je}from"./DzUZlEiD.js";import Ue from"./Bo2kDokA.js";import Pe from"./DQfGaL9X.js";import We from"./uyNR4tS5.js";import{g as c}from"./Bt4l_pT7.js";import"./CnXlSkex.js";import"./CjYXhUAx.js";/* empty css        *//* empty css        *//* empty css        */import"./B50GAlcq.js";import"./BJXLJTrU.js";import"./XQc8-LUJ.js";import"./CwTHfQlH.js";import"./ve16npqZ.js";import"./CgR9_-5F.js";import"./Cuh1oxtc.js";import"./DjD1n8Rx.js";import"./BRaXUPj5.js";import"./DuJvMQU8.js";import"./C230xoy3.js";function Fe(f,k){const{title:B,titleTemplate:D,...u}=f;return je({title:B,titleTemplate:D,_flatMeta:u},{...k,transform(C){const y=de({...C._flatMeta});return delete C._flatMeta,{...C,meta:y}}})}const Z=f=>(ke("data-v-d71fb585"),f=f(),Be(),f),Re={class:"box"},Ve={class:"header"},Je=["src"],Ke=["src"],Ye=Z(()=>s("div",{class:"linear"},null,-1)),qe=Z(()=>s("div",{class:"title"},[s("i",null,"修仙可视化数据"),s("i",null,"智慧大屏")],-1)),Qe={class:"f-b lb"},Xe={class:"f-a",style:{width:"100%"}},Ze={class:"f-a charts"},et={class:"f-a",style:{width:"100%"}},tt={class:"safeAlarm",style:{position:"relative"}},at={class:"f-a safe"},ot={key:0,class:"show"},nt={class:"f-b",style:{"align-items":"center"}},st={style:{display:"flex"}},lt={class:"select",style:{"align-items":"center",display:"flex"}},rt=ve({__name:"index",setup(f){Fe({title:"SIHUO",ogTitle:"大屏可视化",keywords:"666",description:"一个开源可视化模板"});let k;const B=[{desc:"今日",active:!0,type:"0"},{desc:"本周",active:!1,type:"1"},{desc:"本月",active:!1,type:"2"}],D=m(H(B)),u=m({alarmCount:100,breakCount:20,alarmByAlarmType:{},breakByAlarmType:{}}),C=[{url:"/chukuliang.png",desc:"a产量",count:20},{url:"/chukuliang.png",desc:"b产量",count:60},{url:"/fanhui.png",desc:"c产量",count:300},{url:"/fanhui.png",desc:"d产量",count:90}],y=m(""),S=m(C),[ee]=fe();ye(()=>{k=pe(()=>{const n=S.value.shift();S.value.push(n)},2e3)}),ge(()=>{clearInterval(k)});const te=h(()=>ze(S.value.map(n=>n.count))),A=m({personCount:1300,xManCount:5}),w=m({carOnLine:10,carTotal:20,deliverOnLine:5,deliverTotal:20}),g=h(()=>u.value.alarmCount+u.value.breakCount),ae=h(()=>g.value?u.value.alarmCount/g.value:0),oe=h(()=>g.value?u.value.breakCount/g.value:0),G=m(H(B)),x=m([{desc:"本周",active:!0},{desc:"本月",active:!1}]),$=(n,o)=>{o.forEach(t=>{t.active=t.desc===n})},ne=n=>{x.value.forEach(o=>{n==="本周"?(r.startDate=M().start,r.endDate=M().end):(r.startDate=X().start,r.endDate=X().end),o.desc===n?o.active=!0:o.active=!1})},r=he({current:1,size:10,alarmType:"",startDate:M().start,endDate:M().end,customType:"",isHandle:!1}),j=()=>{x.value.forEach(n=>{n.active=!1})},se=n=>{r.startDate=n,j()},le=n=>{r.endDate=n,j()},E=_e({total:0,rows:[],page:1}),U=async()=>{const n=H({...r,startDate:Q(r.startDate,"yyyy-MM-dd"),endDate:Q(r.endDate,"yyyy-MM-dd")});n.alarmType||delete n.alarmType,n.customType||delete n.customType;const o={rows:[{desc:"渡劫99层,修炼者渡数埋念过最后一次天劫，就能成就仙人位业，飞升仙界",isHandle:1,type:"四火"},{desc:"练气99层,修炼者可以分神,拥有更强大的功力",isHandle:0,type:"西门吹雪"},{desc:"筑基99层,修炼者开始凝结元婴",isHandle:0,type:"独孤求败"}],total:3};E.value={rows:o.rows.concat(E.value.rows),total:Number(o.total),page:r.current}},re=async()=>{++r.current,await U()},ue=async n=>{$(n,D.value)},ce=async n=>{$(n,G.value)},ie=h(()=>A.value.personCount+A.value.xManCount),P=h(()=>Ge(u.value.breakByAlarmType,u.value.alarmByAlarmType)),me=[{power:10,name:"练气",info:[{name:"炼气初期",count:2},{name:"炼气中期",count:3}]},{power:20,name:"筑基",info:[{name:"炼气后期",count:5}]},{power:30,name:"元婴",info:[{name:"炼虚合道",count:10}]},{power:100,name:"渡劫",info:[{name:"渡劫期",count:50},{name:"大乘期",count:100}]}];return(n,o)=>(l(),v("div",Re,[s("div",Ve,[s("img",{alt:"headBg",src:e(c)("/lpg/images/headBg.png"),class:"topBg",style:{height:"8vh"}},null,8,Je),s("img",{alt:"topBg",src:e(c)("/lpg/street/topbg.png"),class:"topBg"},null,8,Ke),Ye,qe,a(e(Oe)),a(e(xe))]),s("div",{class:"left",style:F({backgroundImage:`url(${e(c)("/lpg/images/bg.png")})`})},[a(e(_),{desc:"监管"}),a(e(Se),{count:te.value},null,8,["count"]),s("div",{ref_key:"autoAnimate",ref:ee,class:"f-a",style:{width:"80%",margin:"0 auto"}},[(l(!0),v(T,null,b(S.value.slice(0,3),t=>(l(),i(e(Ae),{key:t.desc,count:t.count,url:t.url,desc:t.desc},null,8,["count","url","desc"]))),128))],512),a(e(we)),a(e(_),{desc:"人员和车辆管理"}),a(e(R),{count:w.value.deliverOnLine,total:w.value.deliverTotal,desc:"在线汽车",title:"车辆",url:e(c)("/lpg/street/car.png"),"no-url":e(c)("/lpg/street/carNo.png"),"small-url":e(c)("/lpg/street/littleCar.png")},null,8,["count","total","url","no-url","small-url"]),a(e(R),{count:w.value.carOnLine,total:w.value.carTotal,desc:"在线人员",title:"人员",url:e(c)("/lpg/street/person.png"),"no-url":e(c)("/lpg/street/personNo.png"),"small-url":e(c)("/lpg/street/smallPerson.png")},null,8,["count","total","url","no-url","small-url"]),a(e(_),{desc:"客户管理"}),s("div",Qe,[a(e(V),{count:Number(A.value.personCount),url:e(c)("/lpg/street/jumin.png"),desc:"麻瓜"},null,8,["count","url"]),a(e(Me),{count:ie.value},null,8,["count"]),a(e(V),{count:Number(A.value.xManCount),url:e(c)("/lpg/street/feijumin.png"),desc:"变种人"},{default:p(()=>[a(e(Pe))]),_:1},8,["count","url"])])],4),s("div",{class:"right",style:F({backgroundImage:`url(${e(c)("/lpg/images/bg.png")})`})},[a(e(_),{desc:"变异量"}),s("div",Xe,[(l(!0),v(T,null,b(D.value,t=>(l(),i(e(I),{key:t.desc,desc:t.desc,active:t.active,onChange:o[0]||(o[0]=d=>ue(d))},null,8,["desc","active"]))),128))]),s("div",Ze,[a(e(O),{desc:"变异总量"},{body:p(()=>[e(He)(P.value)?(l(),i(e(z),{key:0})):(l(),i(e(q),{key:1,title:"变异重量",map:P.value},null,8,["map"]))]),default:p(()=>[a(e(L),{percent:g.value==0?0:1,count:g.value,desc:"阻断.预警",type:e(N).BLUE},null,8,["percent","count","type"])]),_:1}),a(e(O),{desc:"进化"},{body:p(()=>[u.value.breakByAlarmType?(l(),i(e(z),{key:0})):(l(),i(e(Ne),{key:1,map:u.value.breakByAlarmType},null,8,["map"]))]),default:p(()=>[a(e(L),{percent:oe.value,count:u.value.breakCount,desc:"超进化",type:e(N).GREEN},null,8,["percent","count","type"])]),_:1}),a(e(O),{desc:"变异"},{body:p(()=>[u.value.alarmByAlarmType?(l(),i(e(z),{key:0})):(l(),i(e(q),{key:1,title:"预警",map:u.value.alarmByAlarmType},null,8,["map"]))]),default:p(()=>[a(e(L),{percent:ae.value,count:u.value.alarmCount,desc:"变异",type:e(N).YELLOW},null,8,["percent","count","type"])]),_:1})]),a(e(_),{desc:"进化过程"}),s("div",et,[(l(!0),v(T,null,b(G.value,t=>(l(),i(e(I),{key:t.desc,desc:t.desc,active:t.active,onChange:o[1]||(o[1]=d=>ce(d))},null,8,["desc","active"]))),128))]),s("div",tt,[s("div",at,[(l(),v(T,null,b(me,(t,d)=>a(e(We),{key:t,"no-right":d===3,sort:t.power,desc:t.name,info:t.info,onOnHover:o[2]||(o[2]=W=>y.value=W),onOnLeave:o[3]||(o[3]=W=>y.value="")},null,8,["no-right","sort","desc","info"])),64))]),a(Ce,null,{default:p(()=>[y.value?(l(),v("div",ot,Te(y.value)+"次",1)):be("",!0)]),_:1})]),a(e(_),{desc:"侠客搜索榜单"}),s("div",nt,[s("div",st,[(l(!0),v(T,null,b(x.value,t=>(l(),i(e(I),{key:t,active:t.active,desc:t.desc,size:e(Ee).small,onChange:o[4]||(o[4]=d=>ne(d))},null,8,["active","desc","size"]))),128))]),a(e(K),{"time-stamp":r.startDate,onConfirm:o[5]||(o[5]=t=>se(t))},null,8,["time-stamp"]),a(e(K),{"time-stamp":r.endDate,onConfirm:o[6]||(o[6]=t=>le(t))},null,8,["time-stamp"])]),s("div",lt,[a(e(Y),{type:e(J).usr,onChange:o[7]||(o[7]=t=>r.customType=t)},null,8,["type"]),a(e(Y),{type:e(J).event,onChange:o[8]||(o[8]=t=>r.alarmType=t)},null,8,["type"])]),a(e(Ie),{onChange:o[9]||(o[9]=t=>r.alarmType=t),onSearch:U}),a(e($e),{data:E.value,onMore:re},null,8,["data"])],4),a(e(Ue)),a(e(Le))]))}}),Zt=De(rt,[["__scopeId","data-v-d71fb585"]]);export{Zt as default};
